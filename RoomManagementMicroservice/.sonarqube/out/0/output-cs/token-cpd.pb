™J
ÖC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Controllers\RoomsController.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Controllers% 0
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
RoomsController  
:! "
ControllerBase# 1
{ 
private 
readonly 
IRoomsRepository )
_repository* 5
;5 6
private 
readonly 

HttpClient #
client$ *
;* +
private 
readonly 
string *
usersManagementMicroserviceUri  >
=? @
$strA g
;g h
[ 	)
ActivatorUtilitiesConstructor	 &
]& '
public 
RoomsController 
( 
IRoomsRepository /

repository0 :
): ;
{ 	
_repository 
= 

repository $
;$ %
client 
= 
new 

HttpClient #
(# $
)$ %
;% &
} 	
public 
RoomsController 
( 
)  
{ 	
client 
= 
new 

HttpClient #
(# $
)$ %
;% &
}   	
[!! 	
HttpGet!!	 
]!! 
public## 
async## 
Task## 
<## 
IActionResult## '
>##' (
GetRoomsAsync##) 6
(##6 7
)##7 8
{$$ 	
IEnumerable%% 
<%% 
RoomDescriptionDto%% *
>%%* +
result%%, 2
=%%3 4
await%%5 :
_repository%%; F
.%%F G
GetRoomsAsync%%G T
(%%T U
)%%U V
;%%V W
if&& 
(&& 
!&& 
result&& 
.&& 
Any&& 
(&& 
)&& 
)&& 
{'' 
return(( 
NotFound(( 
(((  
new((  #
Error(($ )
((() *
$str((* 4
)((4 5
)((5 6
;((6 7
})) 
return++ 
Ok++ 
(++ 
result++ 
)++ 
;++ 
},, 	
[.. 	
Route..	 
(.. 
$str.. 
).. 
].. 
[// 	
HttpGet//	 
]// 
public00 
async00 
Task00 
<00 
IActionResult00 '
>00' (
VerifyAuthorization00) <
(00< =
string00= C
authorizationToken00D V
)00V W
{11 	
client22 
.22 !
DefaultRequestHeaders22 (
.22( )
Add22) ,
(22, -
$str22- A
,22A B
authorizationToken22C U
)22U V
;22V W
var33 !
responseAuthorization33 %
=33& '
await33( -
client33. 4
.334 5
GetAsync335 =
(33= >*
usersManagementMicroserviceUri33> \
+33] ^
$str33_ n
)33n o
;33o p
if44 
(44 !
responseAuthorization44 %
.44% &

StatusCode44& 0
==441 3
System444 :
.44: ;
Net44; >
.44> ?
HttpStatusCode44? M
.44M N
Unauthorized44N Z
)44Z [
{55 
return66 
Unauthorized66 #
(66# $!
responseAuthorization66$ 9
.669 :
Content66: A
.66A B
ReadAsStringAsync66B S
(66S T
)66T U
.66U V
Result66V \
)66\ ]
;66] ^
}77 
return88 
Ok88 
(88 !
responseAuthorization88 +
.88+ ,
Content88, 3
.883 4
ReadAsStringAsync884 E
(88E F
)88F G
.88G H
Result88H N
)88N O
;88O P
}99 	
[;; 	
HttpGet;;	 
(;; 
$str;; 
);;  
];;  !
public== 
async== 
Task== 
<== 
IActionResult== '
>==' ( 
GetRoomByNumberAsync==) =
(=== >
int==> A

roomNumber==B L
,==L M
[==N O

FromHeader==O Y
]==Y Z
string==[ a
authorizationToken==b t
)==t u
{>> 	
RoomDescriptionDto?? 
result?? %
=??& '
await??( -
_repository??. 9
.??9 : 
GetRoomByNumberAsync??: N
(??N O

roomNumber??O Y
)??Y Z
;??Z [
if@@ 
(@@ 
result@@ 
==@@ 
null@@ 
)@@ 
{AA 
returnBB 
NotFoundBB 
(BB  
newBB  #
ErrorBB$ )
(BB) *
$strBB* U
)BBU V
)BBV W
;BBW X
}CC 
RoomDescriptionDtoDD 
roomDescriptionDD .
=DD/ 0
newDD1 4
RoomDescriptionDtoDD5 G
(DDG H
)DDH I
{EE 
RoomCategoryFF 
=FF 
resultFF %
.FF% &
RoomCategoryFF& 2
,FF2 3

RoomNumberGG 
=GG 
resultGG #
.GG# $

RoomNumberGG$ .
,GG. /
DescriptionHH 
=HH 
resultHH $
.HH$ %
DescriptionHH% 0
,HH0 1

FacilitiesII 
=II 
resultII #
.II# $

FacilitiesII$ .
,II. /
PersonsNumberJJ 
=JJ 
resultJJ  &
.JJ& '
PersonsNumberJJ' 4
,JJ4 5
PriceKK 
=KK 
resultKK 
.KK 
PriceKK $
,KK$ %
ImageLL 
=LL 
resultLL 
.LL 
ImageLL $
}MM 
;MM 
returnNN 
OkNN 
(NN 
JsonConvertNN !
.NN! "
SerializeObjectNN" 1
(NN1 2
newNN2 5
{OO 
roomPP 
=PP 
roomDescriptionPP &
}QQ 
)QQ 
)QQ 
;QQ 
}RR 	
[TT 	
RouteTT	 
(TT 
$strTT 
)TT 
]TT 
[UU 	
HttpPostUU	 
]UU 
publicWW 
asyncWW 
TaskWW 
<WW 
IActionResultWW '
>WW' (
PostRoomAsyncWW) 6
(WW6 7
[WW7 8
FromBodyWW8 @
]WW@ A
PostRoomDtoWWB M
	roomToAddWWN W
,WWX Y
[WWZ [

FromHeaderWW[ e
]WWe f
stringWWg m
authorizationToken	WWn Ä
)
WWÄ Å
{XX 	
varYY 
verifyYY 
=YY 
awaitYY 
VerifyAuthorizationYY 2
(YY2 3
authorizationTokenYY3 E
)YYE F
;YYF G
ifZZ 
(ZZ 
verifyZZ 
isZZ $
UnauthorizedObjectResultZZ 2
)ZZ2 3
{[[ 
return\\ 
verify\\ 
;\\ 
}]] 
await^^ 
_repository^^ 
.^^ 
AddRoomAsync^^ *
(^^* +
	roomToAdd^^+ 4
)^^4 5
;^^5 6
return__ 
CreatedAtAction__ "
(__" #
$str__# ,
,__, -
	roomToAdd__. 7
)__7 8
;__8 9
}`` 	
[bb 	
	HttpPatchbb	 
(bb 
$strbb !
)bb! "
]bb" #
publiccc 
asynccc 
Taskcc 
<cc 
IActionResultcc '
>cc' (
UpdateRoomAsynccc) 8
(cc8 9
intcc9 <

roomNumbercc= G
,ccG H
[ccI J
FromBodyccJ R
]ccR S
PatchRoomDtoccT `
patchRoomDtocca m
,ccn o
[ccp q

FromHeaderccq {
]cc{ |
string	cc} É 
authorizationToken
ccÑ ñ
)
ccñ ó
{dd 	
varee 
verifyee 
=ee 
awaitee 
VerifyAuthorizationee 2
(ee2 3
authorizationTokenee3 E
)eeE F
;eeF G
ifff 
(ff 
verifyff 
isff $
UnauthorizedObjectResultff 2
)ff2 3
{gg 
returnhh 
verifyhh 
;hh 
}ii 
varjj 
resultjj 
=jj 
awaitjj 
_repositoryjj *
.jj* +
UpdateAsyncjj+ 6
(jj6 7

roomNumberjj7 A
,jjA B
patchRoomDtojjB N
)jjN O
;jjO P
ifkk 
(kk 
resultkk 
==kk 
-kk 
$numkk 
)kk 
{ll 
returnmm 
NotFoundmm 
(mm  
newmm  #
Errormm$ )
(mm) *
$"mm* ,
$strmm, A
{mmA B

roomNumbermmB L
}mmL M
$strmmM \
"mm\ ]
)mm] ^
)mm^ _
;mm_ `
}nn 
returnoo 
	NoContentoo 
(oo 
)oo 
;oo 
}qq 	
}rr 
}ss ìk
zC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Data\DataContext.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Data% )
{ 
public 

class 
DataContext 
: 
	DbContext (
{		 
public 
DataContext 
( 
DbContextOptions +
options, 3
)3 4
:5 6
base7 ;
(; <
options< C
)C D
{ 	
} 	
public 
DbSet 
< 
Room 
> 
Rooms  
{! "
get# &
;& '
set( +
;+ ,
}- .
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
Room  $
>$ %
(% &
)& '
.' (
Property( 0
(0 1
$str1 5
)5 6
.6 7
ValueGeneratedOnAdd7 J
(J K
)K L
;L M
modelBuilder 
. 
Entity 
<  
Room  $
>$ %
(% &
)& '
. 
HasData  
(  !
new! $
List% )
<) *
Room* .
>. /
(/ 0
)0 1
{ 
new 
Room  
{ 
Id 
=  
$num! "
," #
RoomCategory$ 0
=1 2
$str3 =
,= >

RoomNumber> H
=I J
$numK N
,N O
PersonsNumberO \
=] ^
$num_ `
,` a
Pricea f
=g h
$numi l
,l m
Description '
=' (
new( +
Description, 7
(7 8
$num8 9
)9 :
.: ;
Text; ?
,? @

Facilities@ J
=K L
$strM r
,r s
State !
=" #
$str$ /
,/ 0
Image0 5
=5 6
$str6 E
} 
, 
new 
Room  
{   
Id!! 
=!!  
$num!!! "
,!!" #
RoomCategory!!$ 0
=!!1 2
$str!!3 =
,!!= >

RoomNumber!!> H
=!!I J
$num!!K N
,!!N O
PersonsNumber!!O \
=!!] ^
$num!!_ `
,!!` a
Price!!a f
=!!g h
$num!!i l
,!!l m
Description"" '
=""' (
new""( +
Description"", 7
(""7 8
$num""8 9
)""9 :
."": ;
Text""; ?
,""? @

Facilities""@ J
=""K L
$str""M r
,""r s
State## !
=##" #
$str##$ /
,##/ 0
Image##0 5
=##5 6
$str##6 E
}$$ 
,$$ 
new%% 
Room%%  
{&& 
Id'' 
=''  
$num''! "
,''" #
RoomCategory''$ 0
=''1 2
$str''3 =
,''= >

RoomNumber''> H
=''I J
$num''K N
,''N O
PersonsNumber''O \
=''] ^
$num''_ `
,''` a
Price''a f
=''g h
$num''i l
,''l m
Description(( '
=((' (
new((( +
Description((, 7
(((7 8
$num((8 9
)((9 :
.((: ;
Text((; ?
,((? @

Facilities((@ J
=((K L
$str((M r
,((r s
State)) !
=))" #
$str))$ /
,))/ 0
Image))0 5
=))5 6
$str))6 E
}** 
,** 
new++ 
Room++  
{,, 
Id-- 
=--  
$num--! "
,--" #
RoomCategory--$ 0
=--1 2
$str--3 =
,--= >

RoomNumber--> H
=--I J
$num--K N
,--N O
PersonsNumber--O \
=--] ^
$num--_ `
,--` a
Price--a f
=--g h
$num--i l
,--l m
Description.. '
=..' (
new..( +
Description.., 7
(..7 8
$num..8 9
)..9 :
...: ;
Text..; ?
,..? @

Facilities..@ J
=..K L
$str..M r
,..r s
State// !
=//" #
$str//$ /
,/// 0
Image//0 5
=//5 6
$str//6 E
}00 
,00 
new11 
Room11  
{22 
Id33 
=33  
$num33! "
,33" #
RoomCategory33$ 0
=331 2
$str333 =
,33= >

RoomNumber33> H
=33I J
$num33K N
,33N O
PersonsNumber33O \
=33] ^
$num33_ `
,33` a
Price33a f
=33g h
$num33i l
,33l m
Description44 '
=44' (
new44( +
Description44, 7
(447 8
$num448 9
)449 :
.44: ;
Text44; ?
,44? @

Facilities44@ J
=44K L
$str44M r
,44r s
State55 !
=55" #
$str55$ /
,55/ 0
Image550 5
=555 6
$str556 E
}66 
,66 
new77 
Room77  
{88 
Id99 
=99  
$num99! "
,99" #
RoomCategory99$ 0
=991 2
$str993 ;
,99; <

RoomNumber99< F
=99G H
$num99I L
,99L M
PersonsNumber99M Z
=99[ \
$num99] ^
,99^ _
Price99_ d
=99e f
$num99g j
,99j k
Description:: '
=::' (
new::( +
Description::, 7
(::7 8
$num::8 9
)::9 :
.::: ;
Text::; ?
,::? @

Facilities::@ J
=::K L
$str::M }
,::} ~
State;; !
=;;" #
$str;;$ /
,;;/ 0
Image;;0 5
=;;5 6
$str;;6 C
}<< 
,<< 
new== 
Room==  
{>> 
Id?? 
=??  
$num??! "
,??" #
RoomCategory??$ 0
=??1 2
$str??3 ;
,??; <

RoomNumber??< F
=??G H
$num??I L
,??L M
PersonsNumber??M Z
=??[ \
$num??] ^
,??^ _
Price??_ d
=??e f
$num??g j
,??j k
Description@@ '
=@@' (
new@@( +
Description@@, 7
(@@7 8
$num@@8 9
)@@9 :
.@@: ;
Text@@; ?
,@@? @

Facilities@@@ J
=@@K L
$str@@M }
,@@} ~
StateAA !
=AA" #
$strAA$ /
,AA/ 0
ImageAA0 5
=AA5 6
$strAA6 C
}BB 
,BB 
newCC 
RoomCC  
{DD 
IdEE 
=EE  
$numEE! "
,EE" #
RoomCategoryEE$ 0
=EE1 2
$strEE3 ;
,EE; <

RoomNumberEE< F
=EEG H
$numEEI L
,EEL M
PersonsNumberEEM Z
=EE[ \
$numEE] ^
,EE^ _
PriceEE_ d
=EEe f
$numEEg j
,EEj k
DescriptionFF '
=FF' (
newFF( +
DescriptionFF, 7
(FF7 8
$numFF8 9
)FF9 :
.FF: ;
TextFF; ?
,FF? @

FacilitiesFF@ J
=FFK L
$strFFM }
,FF} ~
StateGG !
=GG" #
$strGG$ /
,GG/ 0
ImageGG0 5
=GG5 6
$strGG6 C
}HH 
,HH 
newII 
RoomII  
{JJ 
IdKK 
=KK  
$numKK! "
,KK" #
RoomCategoryKK$ 0
=KK1 2
$strKK3 ;
,KK; <

RoomNumberKK< F
=KKG H
$numKKI L
,KKL M
PersonsNumberKKM Z
=KK[ \
$numKK] ^
,KK^ _
PriceKK_ d
=KKe f
$numKKg j
,KKj k
DescriptionLL '
=LL' (
newLL( +
DescriptionLL, 7
(LL7 8
$numLL8 9
)LL9 :
.LL: ;
TextLL; ?
,LL? @

FacilitiesLL@ J
=LLK L
$strLLM }
,LL} ~
StateMM !
=MM" #
$strMM$ /
,MM/ 0
ImageMM0 5
=MM5 6
$strMM6 C
}NN 
,NN 
newOO 
RoomOO  
{PP 
IdQQ 
=QQ  
$numQQ! #
,QQ# $
RoomCategoryQQ% 1
=QQ2 3
$strQQ4 <
,QQ< =

RoomNumberQQ= G
=QQH I
$numQQJ M
,QQM N
PersonsNumberQQN [
=QQ\ ]
$numQQ^ _
,QQ_ `
PriceQQ` e
=QQf g
$numQQh k
,QQk l
DescriptionRR '
=RR' (
newRR( +
DescriptionRR, 7
(RR7 8
$numRR8 9
)RR9 :
.RR: ;
TextRR; ?
,RR? @

FacilitiesRR@ J
=RRK L
$strRRM }
,RR} ~
StateSS !
=SS" #
$strSS$ /
,SS/ 0
ImageSS0 5
=SS5 6
$strSS6 C
}TT 
,TT 
newUU 
RoomUU  
{VV 
IdWW 
=WW  
$numWW! #
,WW# $
RoomCategoryWW% 1
=WW2 3
$strWW4 ;
,WW; <

RoomNumberWW< F
=WWG H
$numWWI L
,WWL M
PersonsNumberWWM Z
=WW[ \
$numWW] ^
,WW^ _
PriceWW_ d
=WWe f
$numWWg j
,WWj k
DescriptionXX '
=XX' (
newXX( +
DescriptionXX, 7
(XX7 8
$numXX8 9
)XX9 :
.XX: ;
TextXX; ?
,XX? @

FacilitiesXX@ J
=XXK L
$str	XXM ä
,
XXä ã
StateYY !
=YY" #
$strYY$ /
,YY/ 0
ImageYY0 5
=YY5 6
$strYY6 B
}ZZ 
,ZZ 
new[[ 
Room[[  
{\\ 
Id]] 
=]]  
$num]]! #
,]]# $
RoomCategory]]% 1
=]]2 3
$str]]4 ;
,]]; <

RoomNumber]]< F
=]]G H
$num]]I L
,]]L M
PersonsNumber]]M Z
=]][ \
$num]]] ^
,]]^ _
Price]]_ d
=]]e f
$num]]g j
,]]j k
Description^^ '
=^^' (
new^^( +
Description^^, 7
(^^7 8
$num^^8 9
)^^9 :
.^^: ;
Text^^; ?
,^^? @

Facilities^^@ J
=^^K L
$str	^^M ä
,
^^ä ã
State__ !
=__" #
$str__$ /
,__/ 0
Image__0 5
=__5 6
$str__6 B
}`` 
,`` 
newaa 
Roomaa  
{bb 
Idcc 
=cc  
$numcc! #
,cc# $
RoomCategorycc% 1
=cc2 3
$strcc4 ;
,cc; <

RoomNumbercc< F
=ccG H
$numccI L
,ccL M
PersonsNumberccM Z
=cc[ \
$numcc] ^
,cc^ _
Pricecc_ d
=cce f
$numccg j
,ccj k
Descriptiondd '
=dd' (
newdd( +
Descriptiondd, 7
(dd7 8
$numdd8 9
)dd9 :
.dd: ;
Textdd; ?
,dd? @

Facilitiesdd@ J
=ddK L
$str	ddM ä
,
ddä ã
Stateee !
=ee" #
$stree$ /
,ee/ 0
Imageee0 5
=ee5 6
$stree6 B
}ff 
,ff 
newgg 
Roomgg  
{hh 
Idii 
=ii  
$numii! #
,ii# $
RoomCategoryii% 1
=ii2 3
$strii4 ;
,ii; <

RoomNumberii< F
=iiG H
$numiiI L
,iiL M
PersonsNumberiiM Z
=ii[ \
$numii] ^
,ii^ _
Priceii_ d
=iie f
$numiig j
,iij k
Descriptionjj '
=jj' (
newjj( +
Descriptionjj, 7
(jj7 8
$numjj8 9
)jj9 :
.jj: ;
Textjj; ?
,jj? @

Facilitiesjj@ J
=jjK L
$str	jjM ä
,
jjä ã
Statekk !
=kk" #
$strkk$ /
,kk/ 0
Imagekk0 5
=kk5 6
$strkk6 B
}ll 
,ll 
newmm 
Roommm  
{nn 
Idoo 
=oo  
$numoo! #
,oo# $
RoomCategoryoo% 1
=oo2 3
$stroo4 ;
,oo; <

RoomNumberoo< F
=ooG H
$numooI L
,ooL M
PersonsNumberooM Z
=oo[ \
$numoo] ^
,oo^ _
Priceoo_ d
=ooe f
$numoog j
,ooj k
Descriptionpp '
=pp' (
newpp( +
Descriptionpp, 7
(pp7 8
$numpp8 9
)pp9 :
.pp: ;
Textpp; ?
,pp? @

Facilitiespp@ J
=ppK L
$str	ppM ä
,
ppä ã
Stateqq !
=qq" #
$strqq$ /
,qq/ 0
Imageqq0 5
=qq5 6
$strqq6 B
}rr 
}rr 
)rr 
;rr 
}ss 	
}tt 
}uu £û
ñC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Data\Migrations\20210511163056_InitialCreate.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Data% )
.) *

Migrations* 4
{ 
public 

partial 
class 
InitialCreate &
:' (
	Migration) 2
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
CreateTable		 (
(		( )
name

 
:

 
$str

 
,

 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 :
,: ;
nullable< D
:D E
falseF K
)K L
. 

Annotation #
(# $
$str$ :
,: ;
true< @
)@ A
,A B

RoomNumber 
=  
table! &
.& '
Column' -
<- .
int. 1
>1 2
(2 3
type3 7
:7 8
$str9 B
,B C
nullableD L
:L M
falseN S
)S T
,T U
RoomCategory  
=! "
table# (
.( )
Column) /
</ 0
string0 6
>6 7
(7 8
type8 <
:< =
$str> D
,D E
nullableF N
:N O
trueP T
)T U
,U V
PersonsNumber !
=" #
table$ )
.) *
Column* 0
<0 1
int1 4
>4 5
(5 6
type6 :
:: ;
$str< E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
Description 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= C
,C D
nullableE M
:M N
trueO S
)S T
,T U
Price 
= 
table !
.! "
Column" (
<( )
int) ,
>, -
(- .
type. 2
:2 3
$str4 =
,= >
nullable? G
:G H
falseI N
)N O
,O P

Facilities 
=  
table! &
.& '
Column' -
<- .
string. 4
>4 5
(5 6
type6 :
:: ;
$str< B
,B C
nullableD L
:L M
trueN R
)R S
,S T
State 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
trueI M
)M N
,N O
Image 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
trueI M
)M N
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% /
,/ 0
x1 2
=>3 5
x6 7
.7 8
Id8 :
): ;
;; <
} 
) 
; 
migrationBuilder 
. 

InsertData '
(' (
table 
: 
$str 
, 
columns 
: 
new 
[ 
] 
{  
$str! %
,% &
$str' 4
,4 5
$str6 B
,B C
$strD K
,K L
$strM \
,\ ]
$str^ e
,e f
$strg u
,u v
$str	w É
,
É Ñ
$str
Ö å
}
ç é
,
é è
values   
:   
new   
object   "
[  " #
]  # $
{  % &
$num  ' (
,  ( )
$str	  * ∞
,
  ∞ ±
$str
  ≤ ◊
,
  ◊ ÿ
$str
  Ÿ Ë
,
  Ë È
$num
  Í Î
,
  Î Ï
$num
  Ì 
,
   Ò
$str
  Ú ¸
,
  ¸ ˝
$num
  ˛ Å
,
  Å Ç
$str
  É é
}
  è ê
)
  ê ë
;
  ë í
migrationBuilder"" 
."" 

InsertData"" '
(""' (
table## 
:## 
$str## 
,## 
columns$$ 
:$$ 
new$$ 
[$$ 
]$$ 
{$$  
$str$$! %
,$$% &
$str$$' 4
,$$4 5
$str$$6 B
,$$B C
$str$$D K
,$$K L
$str$$M \
,$$\ ]
$str$$^ e
,$$e f
$str$$g u
,$$u v
$str	$$w É
,
$$É Ñ
$str
$$Ö å
}
$$ç é
,
$$é è
values%% 
:%% 
new%% 
object%% "
[%%" #
]%%# $
{%%% &
$num%%' (
,%%( )
$str	%%* æ
,
%%æ ø
$str
%%¿ Â
,
%%Â Ê
$str
%%Á ˆ
,
%%ˆ ˜
$num
%%¯ ˘
,
%%˘ ˙
$num
%%˚ ˛
,
%%˛ ˇ
$str
%%Ä ä
,
%%ä ã
$num
%%å è
,
%%è ê
$str
%%ë ú
}
%%ù û
)
%%û ü
;
%%ü †
migrationBuilder'' 
.'' 

InsertData'' '
(''' (
table(( 
:(( 
$str(( 
,(( 
columns)) 
:)) 
new)) 
[)) 
])) 
{))  
$str))! %
,))% &
$str))' 4
,))4 5
$str))6 B
,))B C
$str))D K
,))K L
$str))M \
,))\ ]
$str))^ e
,))e f
$str))g u
,))u v
$str	))w É
,
))É Ñ
$str
))Ö å
}
))ç é
,
))é è
values** 
:** 
new** 
object** "
[**" #
]**# $
{**% &
$num**' (
,**( )
$str	*** ∞
,
**∞ ±
$str
**≤ ◊
,
**◊ ÿ
$str
**Ÿ Ë
,
**Ë È
$num
**Í Î
,
**Î Ï
$num
**Ì 
,
** Ò
$str
**Ú ¸
,
**¸ ˝
$num
**˛ Å
,
**Å Ç
$str
**É é
}
**è ê
)
**ê ë
;
**ë í
migrationBuilder,, 
.,, 

InsertData,, '
(,,' (
table-- 
:-- 
$str-- 
,-- 
columns.. 
:.. 
new.. 
[.. 
].. 
{..  
$str..! %
,..% &
$str..' 4
,..4 5
$str..6 B
,..B C
$str..D K
,..K L
$str..M \
,..\ ]
$str..^ e
,..e f
$str..g u
,..u v
$str	..w É
,
..É Ñ
$str
..Ö å
}
..ç é
,
..é è
values// 
:// 
new// 
object// "
[//" #
]//# $
{//% &
$num//' (
,//( )
$str	//* ∞
,
//∞ ±
$str
//≤ ◊
,
//◊ ÿ
$str
//Ÿ Ë
,
//Ë È
$num
//Í Î
,
//Î Ï
$num
//Ì 
,
// Ò
$str
//Ú ¸
,
//¸ ˝
$num
//˛ Å
,
//Å Ç
$str
//É é
}
//è ê
)
//ê ë
;
//ë í
migrationBuilder11 
.11 

InsertData11 '
(11' (
table22 
:22 
$str22 
,22 
columns33 
:33 
new33 
[33 
]33 
{33  
$str33! %
,33% &
$str33' 4
,334 5
$str336 B
,33B C
$str33D K
,33K L
$str33M \
,33\ ]
$str33^ e
,33e f
$str33g u
,33u v
$str	33w É
,
33É Ñ
$str
33Ö å
}
33ç é
,
33é è
values44 
:44 
new44 
object44 "
[44" #
]44# $
{44% &
$num44' (
,44( )
$str	44* æ
,
44æ ø
$str
44¿ Â
,
44Â Ê
$str
44Á ˆ
,
44ˆ ˜
$num
44¯ ˘
,
44˘ ˙
$num
44˚ ˛
,
44˛ ˇ
$str
44Ä ä
,
44ä ã
$num
44å è
,
44è ê
$str
44ë ú
}
44ù û
)
44û ü
;
44ü †
migrationBuilder66 
.66 

InsertData66 '
(66' (
table77 
:77 
$str77 
,77 
columns88 
:88 
new88 
[88 
]88 
{88  
$str88! %
,88% &
$str88' 4
,884 5
$str886 B
,88B C
$str88D K
,88K L
$str88M \
,88\ ]
$str88^ e
,88e f
$str88g u
,88u v
$str	88w É
,
88É Ñ
$str
88Ö å
}
88ç é
,
88é è
values99 
:99 
new99 
object99 "
[99" #
]99# $
{99% &
$num99' (
,99( )
$str	99* ÿ
,
99ÿ Ÿ
$str
99⁄ ä
,
99ä ã
$str
99å ô
,
99ô ö
$num
99õ ú
,
99ú ù
$num
99û °
,
99° ¢
$str
99£ ´
,
99´ ¨
$num
99≠ ∞
,
99∞ ±
$str
99≤ Ω
}
99æ ø
)
99ø ¿
;
99¿ ¡
migrationBuilder;; 
.;; 

InsertData;; '
(;;' (
table<< 
:<< 
$str<< 
,<< 
columns== 
:== 
new== 
[== 
]== 
{==  
$str==! %
,==% &
$str==' 4
,==4 5
$str==6 B
,==B C
$str==D K
,==K L
$str==M \
,==\ ]
$str==^ e
,==e f
$str==g u
,==u v
$str	==w É
,
==É Ñ
$str
==Ö å
}
==ç é
,
==é è
values>> 
:>> 
new>> 
object>> "
[>>" #
]>># $
{>>% &
$num>>' (
,>>( )
$str	>>* ÿ
,
>>ÿ Ÿ
$str
>>⁄ ä
,
>>ä ã
$str
>>å ô
,
>>ô ö
$num
>>õ ú
,
>>ú ù
$num
>>û °
,
>>° ¢
$str
>>£ ´
,
>>´ ¨
$num
>>≠ ∞
,
>>∞ ±
$str
>>≤ Ω
}
>>æ ø
)
>>ø ¿
;
>>¿ ¡
migrationBuilder@@ 
.@@ 

InsertData@@ '
(@@' (
tableAA 
:AA 
$strAA 
,AA 
columnsBB 
:BB 
newBB 
[BB 
]BB 
{BB  
$strBB! %
,BB% &
$strBB' 4
,BB4 5
$strBB6 B
,BBB C
$strBBD K
,BBK L
$strBBM \
,BB\ ]
$strBB^ e
,BBe f
$strBBg u
,BBu v
$str	BBw É
,
BBÉ Ñ
$str
BBÖ å
}
BBç é
,
BBé è
valuesCC 
:CC 
newCC 
objectCC "
[CC" #
]CC# $
{CC% &
$numCC' (
,CC( )
$str	CC* ﬂ
,
CCﬂ ‡
$str
CC· ë
,
CCë í
$str
CCì †
,
CC† °
$num
CC¢ £
,
CC£ §
$num
CC• ®
,
CC® ©
$str
CC™ ≤
,
CC≤ ≥
$num
CC¥ ∑
,
CC∑ ∏
$str
CCπ ƒ
}
CC≈ ∆
)
CC∆ «
;
CC« »
migrationBuilderEE 
.EE 

InsertDataEE '
(EE' (
tableFF 
:FF 
$strFF 
,FF 
columnsGG 
:GG 
newGG 
[GG 
]GG 
{GG  
$strGG! %
,GG% &
$strGG' 4
,GG4 5
$strGG6 B
,GGB C
$strGGD K
,GGK L
$strGGM \
,GG\ ]
$strGG^ e
,GGe f
$strGGg u
,GGu v
$str	GGw É
,
GGÉ Ñ
$str
GGÖ å
}
GGç é
,
GGé è
valuesHH 
:HH 
newHH 
objectHH "
[HH" #
]HH# $
{HH% &
$numHH' (
,HH( )
$str	HH* ÿ
,
HHÿ Ÿ
$str
HH⁄ ä
,
HHä ã
$str
HHå ô
,
HHô ö
$num
HHõ ú
,
HHú ù
$num
HHû °
,
HH° ¢
$str
HH£ ´
,
HH´ ¨
$num
HH≠ ∞
,
HH∞ ±
$str
HH≤ Ω
}
HHæ ø
)
HHø ¿
;
HH¿ ¡
migrationBuilderJJ 
.JJ 

InsertDataJJ '
(JJ' (
tableKK 
:KK 
$strKK 
,KK 
columnsLL 
:LL 
newLL 
[LL 
]LL 
{LL  
$strLL! %
,LL% &
$strLL' 4
,LL4 5
$strLL6 B
,LLB C
$strLLD K
,LLK L
$strLLM \
,LL\ ]
$strLL^ e
,LLe f
$strLLg u
,LLu v
$str	LLw É
,
LLÉ Ñ
$str
LLÖ å
}
LLç é
,
LLé è
valuesMM 
:MM 
newMM 
objectMM "
[MM" #
]MM# $
{MM% &
$numMM' )
,MM) *
$str	MM+ ‡
,
MM‡ ·
$str
MM‚ í
,
MMí ì
$str
MMî °
,
MM° ¢
$num
MM£ §
,
MM§ •
$num
MM¶ ©
,
MM© ™
$str
MM´ ≥
,
MM≥ ¥
$num
MMµ ∏
,
MM∏ π
$str
MM∫ ≈
}
MM∆ «
)
MM« »
;
MM» …
migrationBuilderOO 
.OO 

InsertDataOO '
(OO' (
tablePP 
:PP 
$strPP 
,PP 
columnsQQ 
:QQ 
newQQ 
[QQ 
]QQ 
{QQ  
$strQQ! %
,QQ% &
$strQQ' 4
,QQ4 5
$strQQ6 B
,QQB C
$strQQD K
,QQK L
$strQQM \
,QQ\ ]
$strQQ^ e
,QQe f
$strQQg u
,QQu v
$str	QQw É
,
QQÉ Ñ
$str
QQÖ å
}
QQç é
,
QQé è
valuesRR 
:RR 
newRR 
objectRR "
[RR" #
]RR# $
{RR% &
$numRR' )
,RR) *
$str	RR+ ·
,
RR· ‚
$str
RR„ †
,
RR† °
$str
RR¢ Æ
,
RRÆ Ø
$num
RR∞ ±
,
RR± ≤
$num
RR≥ ∂
,
RR∂ ∑
$str
RR∏ ø
,
RRø ¿
$num
RR¡ ƒ
,
RRƒ ≈
$str
RR∆ —
}
RR“ ”
)
RR” ‘
;
RR‘ ’
migrationBuilderTT 
.TT 

InsertDataTT '
(TT' (
tableUU 
:UU 
$strUU 
,UU 
columnsVV 
:VV 
newVV 
[VV 
]VV 
{VV  
$strVV! %
,VV% &
$strVV' 4
,VV4 5
$strVV6 B
,VVB C
$strVVD K
,VVK L
$strVVM \
,VV\ ]
$strVV^ e
,VVe f
$strVVg u
,VVu v
$str	VVw É
,
VVÉ Ñ
$str
VVÖ å
}
VVç é
,
VVé è
valuesWW 
:WW 
newWW 
objectWW "
[WW" #
]WW# $
{WW% &
$numWW' )
,WW) *
$str	WW+ ·
,
WW· ‚
$str
WW„ †
,
WW† °
$str
WW¢ Æ
,
WWÆ Ø
$num
WW∞ ±
,
WW± ≤
$num
WW≥ ∂
,
WW∂ ∑
$str
WW∏ ø
,
WWø ¿
$num
WW¡ ƒ
,
WWƒ ≈
$str
WW∆ —
}
WW“ ”
)
WW” ‘
;
WW‘ ’
migrationBuilderYY 
.YY 

InsertDataYY '
(YY' (
tableZZ 
:ZZ 
$strZZ 
,ZZ 
columns[[ 
:[[ 
new[[ 
[[[ 
][[ 
{[[  
$str[[! %
,[[% &
$str[[' 4
,[[4 5
$str[[6 B
,[[B C
$str[[D K
,[[K L
$str[[M \
,[[\ ]
$str[[^ e
,[[e f
$str[[g u
,[[u v
$str	[[w É
,
[[É Ñ
$str
[[Ö å
}
[[ç é
,
[[é è
values\\ 
:\\ 
new\\ 
object\\ "
[\\" #
]\\# $
{\\% &
$num\\' )
,\\) *
$str	\\+ ·
,
\\· ‚
$str
\\„ †
,
\\† °
$str
\\¢ Æ
,
\\Æ Ø
$num
\\∞ ±
,
\\± ≤
$num
\\≥ ∂
,
\\∂ ∑
$str
\\∏ ø
,
\\ø ¿
$num
\\¡ ƒ
,
\\ƒ ≈
$str
\\∆ —
}
\\“ ”
)
\\” ‘
;
\\‘ ’
migrationBuilder^^ 
.^^ 

InsertData^^ '
(^^' (
table__ 
:__ 
$str__ 
,__ 
columns`` 
:`` 
new`` 
[`` 
]`` 
{``  
$str``! %
,``% &
$str``' 4
,``4 5
$str``6 B
,``B C
$str``D K
,``K L
$str``M \
,``\ ]
$str``^ e
,``e f
$str``g u
,``u v
$str	``w É
,
``É Ñ
$str
``Ö å
}
``ç é
,
``é è
valuesaa 
:aa 
newaa 
objectaa "
[aa" #
]aa# $
{aa% &
$numaa' )
,aa) *
$str	aa+ ·
,
aa· ‚
$str
aa„ †
,
aa† °
$str
aa¢ Æ
,
aaÆ Ø
$num
aa∞ ±
,
aa± ≤
$num
aa≥ ∂
,
aa∂ ∑
$str
aa∏ ø
,
aaø ¿
$num
aa¡ ƒ
,
aaƒ ≈
$str
aa∆ —
}
aa“ ”
)
aa” ‘
;
aa‘ ’
migrationBuildercc 
.cc 

InsertDatacc '
(cc' (
tabledd 
:dd 
$strdd 
,dd 
columnsee 
:ee 
newee 
[ee 
]ee 
{ee  
$stree! %
,ee% &
$stree' 4
,ee4 5
$stree6 B
,eeB C
$streeD K
,eeK L
$streeM \
,ee\ ]
$stree^ e
,eee f
$streeg u
,eeu v
$str	eew É
,
eeÉ Ñ
$str
eeÖ å
}
eeç é
,
eeé è
valuesff 
:ff 
newff 
objectff "
[ff" #
]ff# $
{ff% &
$numff' )
,ff) *
$str	ff+ ·
,
ff· ‚
$str
ff„ †
,
ff† °
$str
ff¢ Æ
,
ffÆ Ø
$num
ff∞ ±
,
ff± ≤
$num
ff≥ ∂
,
ff∂ ∑
$str
ff∏ ø
,
ffø ¿
$num
ff¡ ƒ
,
ffƒ ≈
$str
ff∆ —
}
ff“ ”
)
ff” ‘
;
ff‘ ’
}gg 	
	protectedii 
overrideii 
voidii 
Downii  $
(ii$ %
MigrationBuilderii% 5
migrationBuilderii6 F
)iiF G
{jj 	
migrationBuilderkk 
.kk 
	DropTablekk &
(kk& '
namell 
:ll 
$strll 
)ll 
;ll 
}mm 	
}nn 
}oo ﬁ
{C:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\DTOs\PatchRoomDto.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
DTOs% )
{ 
public 

class 
PatchRoomDto 
{ 
public 
int 
PersonsNumber  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
Price 
{ 
get 
; 
set  #
;# $
}% &
public		 
string		 

Facilities		  
{		! "
get		# &
;		& '
set		( +
;		+ ,
}		- .
public

 
string

 
State

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
} 
} „
zC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\DTOs\PostRoomDto.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
DTOs% )
{ 
public 

class 
PostRoomDto 
{ 
public 
string 
RoomCategory "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
PersonsNumber  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
Price 
{ 
get 
; 
set  #
;# $
}% &
public		 
string		 

Facilities		  
{		! "
get		# &
;		& '
set		( +
;		+ ,
}		- .
}

 
} ¶
ÅC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\DTOs\RoomDescriptionDTO.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
DTOs% )
{ 
public 

class 
RoomDescriptionDto #
{ 
public 
string 
RoomCategory "
{# $
get% (
;( )
set* -
;- .
}/ 0
public		 
int		 

RoomNumber		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
Price 
{ 
get 
; 
set  #
;# $
}% &
public 
string 

Facilities  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
PersonsNumber  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Image 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ú
wC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Entities\Room.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Entities% -
{ 
public 

class 
Room 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
int 

RoomNumber 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
RoomCategory "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
PersonsNumber  
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 
string		 
Description		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
public

 
int

 
Price

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 
string 

Facilities  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
State 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Image 
{ 
get !
;! "
set# &
;& '
}( )
public 
Room 
( 
string 
roomCategory '
,' (
int) ,
personsNumber- :
,: ;
string< B
descriptionC N
,N O
intP S
priceT Y
,Y Z
string[ a

facilitiesb l
)l m
{ 	
RoomCategory 
= 
roomCategory '
;' (
PersonsNumber 
= 
personsNumber )
;) *
Description 
= 
description %
;% &
Price 
= 
price 
; 

Facilities 
= 

facilities #
;# $
} 	
public 
Room 
( 
) 
{ 	
} 	
} 
} Ÿ

qC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Program.cs
	namespace 	&
RoomManagementMicroservice
 $
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{		 	
CreateHostBuilder

 
(

 
args

 "
)

" #
.

# $
Build

$ )
(

) *
)

* +
.

+ ,
Run

, /
(

/ 0
)

0 1
;

1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} ≥	
áC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Repositories\IRoomsRepository.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Repositories% 1
{ 
public 

	interface 
IRoomsRepository %
{ 
Task

 
<

 
IEnumerable

 
<

 
RoomDescriptionDto

 +
>

+ ,
>

, -
GetRoomsAsync

. ;
(

; <
)

< =
;

= >
Task 
< 
RoomDescriptionDto 
>   
GetRoomByNumberAsync! 5
(5 6
int6 9

roomNumber: D
)D E
;E F
Task 
< 
int 
> 
AddRoomAsync 
( 
PostRoomDto *
	roomToAdd+ 4
)4 5
;5 6
Task 
< 
int 
> 
UpdateAsync 
( 
int !

roomNumber" ,
,, -
PatchRoomDto- 9
patchRoomDto: F
)F G
;G H
} 
} ÀA
ÜC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Repositories\RoomsRepository.cs
	namespace		 	&
RoomManagementMicroservice		
 $
.		$ %
Repositories		% 1
{

 
public 

class 
RoomsRepository  
:! "
IRoomsRepository# 3
{ 
private 
readonly 
DataContext $
context% ,
;, -
public 
RoomsRepository 
( 
DataContext *
context+ 2
)2 3
{ 	
this 
. 
context 
= 
context "
;" #
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
RoomDescriptionDto& 8
>8 9
>9 :
GetRoomsAsync; H
(H I
)I J
{ 	
var 
rooms 
= 
await 
context %
.% &
Rooms& +
.+ ,
Select, 2
(2 3
room3 7
=>8 :
new 
RoomDescriptionDto "
(" #
)# $
{ 
RoomCategory 
= 
room #
.# $
RoomCategory$ 0
,0 1

RoomNumber 
= 
room !
.! "

RoomNumber" ,
,, -
Description 
= 
room "
." #
Description# .
,. /

Facilities 
= 
room !
.! "

Facilities" ,
,, -
PersonsNumber 
= 
room  $
.$ %
PersonsNumber% 2
,2 3
Price 
= 
room 
. 
Price "
," #
Image   
=   
room   
.   
Image   "
}!! 
)!! 
.!! 
OrderBy!! 
(!! 
room!! 
=>!! 
room!! #
.!!# $
Price!!$ )
)!!) *
.!!* +
ToListAsync!!+ 6
(!!6 7
)!!7 8
;!!8 9
return"" 
rooms"" 
;"" 
}## 	
public%% 
async%% 
Task%% 
<%% 
RoomDescriptionDto%% ,
>%%, - 
GetRoomByNumberAsync%%. B
(%%B C
int%%C F

roomNumber%%G Q
)%%Q R
{&& 	
var'' 
room'' 
='' 
await'' 
context'' $
.''$ %
Rooms''% *
.''* +
Where''+ 0
(''0 1
room''1 5
=>''6 8
room''9 =
.''= >

RoomNumber''> H
==''I K

roomNumber''L V
)''V W
.''W X
FirstOrDefaultAsync''X k
(''k l
)''l m
;''m n
if(( 
((( 
room(( 
==(( 
null(( 
)(( 
{)) 
return** 
null** 
;** 
}++ 
RoomDescriptionDto,, 
roomDescription,, .
=,,/ 0
new,,1 4
RoomDescriptionDto,,5 G
(,,G H
),,H I
{-- 
RoomCategory.. 
=.. 
room.. #
...# $
RoomCategory..$ 0
,..0 1

RoomNumber// 
=// 
room// !
.//! "

RoomNumber//" ,
,//, -
Description00 
=00 
room00 "
.00" #
Description00# .
,00. /

Facilities11 
=11 
room11 !
.11! "

Facilities11" ,
,11, -
PersonsNumber22 
=22 
room22  $
.22$ %
PersonsNumber22% 2
,222 3
Price33 
=33 
room33 
.33 
Price33 "
,33" #
Image44 
=44 
room44 
.44 
Image44 "
}55 
;55 
return66 
roomDescription66 "
;66" #
}77 	
public88 
async88 
Task88 
<88 
int88 
>88 
AddRoomAsync88 +
(88+ ,
PostRoomDto88, 7
	roomToAdd888 A
)88A B
{99 	
Room:: 
room:: 
=:: 
new:: 
(:: 
	roomToAdd:: %
.::% &
RoomCategory::& 2
,::2 3
	roomToAdd::4 =
.::= >
PersonsNumber::> K
,::K L
	roomToAdd::M V
.::V W
Description::W b
,::b c
	roomToAdd::d m
.::m n
Price::n s
,::s t
	roomToAdd::u ~
.::~ 

Facilities	:: â
)
::â ä
;
::ä ã
int;; 
numberOfRooms;; 
=;; 
context;;  '
.;;' (
Rooms;;( -
.;;- .
Count;;. 3
(;;3 4
);;4 5
;;;5 6
room<< 
.<< 

RoomNumber<< 
=<< 
(<< 
numberOfRooms<< ,
/<<- .
$num<</ 0
+<<1 2
$num<<3 4
)<<4 5
*<<6 7
$num<<8 ;
+<<< =
numberOfRooms<<> K
%<<L M
$num<<N O
;<<O P
room== 
.== 
State== 
=== 
$str== $
;==$ %
room>> 
.>> 
Image>> 
=>> 
room>> 
.>> 
RoomCategory>> *
.>>* +
ToLower>>+ 2
(>>2 3
)>>3 4
+>>5 6
room>>7 ;
.>>; <

RoomNumber>>< F
%>>G H
$num>>I J
+>>K L
$str>>M S
;>>S T
this?? 
.?? 
context?? 
.?? 
Add?? 
(?? 
room?? !
)??! "
;??" #
await@@ 
this@@ 
.@@ 
context@@ 
.@@ 
SaveChangesAsync@@ /
(@@/ 0
)@@0 1
;@@1 2
returnAA 
$numAA 
;AA 
}BB 	
publicDD 
asyncDD 
TaskDD 
<DD 
intDD 
>DD 
UpdateAsyncDD *
(DD* +
intDD+ .

roomNumberDD/ 9
,DD9 :
PatchRoomDtoDD: F
patchRoomDtoDDG S
)DDS T
{EE 	
varFF 
resultFF 
=FF 
awaitFF 
contextFF &
.FF& '
RoomsFF' ,
.FF, -
WhereFF- 2
(FF2 3
roomFF3 7
=>FF8 :
roomFF; ?
.FF? @

RoomNumberFF@ J
==FFK M

roomNumberFFN X
)FFX Y
.FFY Z
FirstOrDefaultAsyncFFZ m
(FFm n
)FFn o
;FFo p
ifGG 
(GG 
resultGG 
==GG 
nullGG 
)GG 
{HH 
returnII 
-II 
$numII 
;II 
}JJ 
resultKK 
.KK 
PersonsNumberKK  
=KK! "
patchRoomDtoKK# /
.KK/ 0
PersonsNumberKK0 =
;KK= >
resultLL 
.LL 
DescriptionLL 
=LL  
patchRoomDtoLL! -
.LL- .
DescriptionLL. 9
??LL: <
resultLL= C
.LLC D
DescriptionLLD O
;LLO P
resultMM 
.MM 
PriceMM 
=MM 
patchRoomDtoMM '
.MM' (
PriceMM( -
;MM- .
resultNN 
.NN 

FacilitiesNN 
=NN 
patchRoomDtoNN  ,
.NN, -

FacilitiesNN- 7
??NN8 :
resultNN; A
.NNA B

FacilitiesNNB L
;NNL M
resultOO 
.OO 
StateOO 
=OO 
patchRoomDtoOO '
.OO' (
StateOO( -
??OO- /
resultOO/ 5
.OO5 6
StateOO6 ;
;OO; <
awaitPP 
contextPP 
.PP 
SaveChangesAsyncPP *
(PP* +
)PP+ ,
;PP, -
returnQQ 
$numQQ 
;QQ 
}RR 	
}TT 
}UU Ú&
qC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Startup.cs
	namespace 	&
RoomManagementMicroservice
 $
{ 
public 

class 
Startup 
{ 
readonly 
string $
MyAllowedSpecificOrigins 0
=1 2
$str3 J
;J K
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddControllers #
(# $
)$ %
;% &
services 
. 
AddDbContext !
<! "
DataContext" -
>- .
(. /
options/ 6
=>7 9
{ 
options   
.   
	UseSqlite   !
(  ! "
Configuration  " /
.  / 0
GetConnectionString  0 C
(  C D
$str  D W
)  W X
)  X Y
;  Y Z
}!! 
)!! 
;!! 
services## 
.## 
AddCors## 
(## 
options## $
=>##% '
{$$ 
options%% 
.%% 
	AddPolicy%% !
(%%! "$
MyAllowedSpecificOrigins%%" :
,%%: ;
builder%%< C
=>%%D F
{&& 
builder'' 
.'' 
AllowAnyHeader'' *
(''* +
)''+ ,
.(( 
AllowAnyMethod(( #
(((# $
)(($ %
.)) 
AllowAnyOrigin)) #
())# $
)))$ %
;))% &
}** 
)** 
;** 
}++ 
)++ 
;++ 
services-- 
.-- 
AddTransient-- !
<--! "
IRoomsRepository--" 2
,--2 3
RoomsRepository--4 C
>--C D
(--D E
)--E F
;--F G
services.. 
... 
AddSwaggerGen.. "
(.." #
c..# $
=>..% '
{// 
c00 
.00 

SwaggerDoc00 
(00 
$str00 !
,00! "
new00# &
OpenApiInfo00' 2
{003 4
Title005 :
=00; <
$str00= Y
,00Y Z
Version00[ b
=00c d
$str00e i
}00j k
)00k l
;00l m
}11 
)11 
;11 
}22 	
public55 
void55 
	Configure55 
(55 
IApplicationBuilder55 1
app552 5
,555 6
IWebHostEnvironment557 J
env55K N
)55N O
{66 	
if77 
(77 
env77 
.77 
IsDevelopment77 !
(77! "
)77" #
)77# $
{88 
app99 
.99 %
UseDeveloperExceptionPage99 -
(99- .
)99. /
;99/ 0
app:: 
.:: 

UseSwagger:: 
(:: 
)::  
;::  !
app;; 
.;; 
UseSwaggerUI;;  
(;;  !
c;;! "
=>;;# %
c;;& '
.;;' (
SwaggerEndpoint;;( 7
(;;7 8
$str;;8 R
,;;R S
$str;;T s
);;s t
);;t u
;;;u v
}<< 
app>> 
.>> 
UseCors>> 
(>> $
MyAllowedSpecificOrigins>> 0
)>>0 1
;>>1 2
app@@ 
.@@ 
UseStaticFiles@@ 
(@@ 
new@@ "
StaticFileOptions@@# 4
{AA 
FileProviderBB 
=BB 
newBB " 
PhysicalFileProviderBB# 7
(BB7 8
PathCC 
.CC 
CombineCC 
(CC 
envCC 
.CC 
ContentRootPathCC ,
,CC, -
$strCC. @
)CC@ A
)CCA B
,CCB C
RequestPathDD 
=DD 
$strDD '
}EE 
)EE 
;EE 
appGG 
.GG 

UseRoutingGG 
(GG 
)GG 
;GG 
appII 
.II 
UseAuthorizationII  
(II  !
)II! "
;II" #
appKK 
.KK 
UseEndpointsKK 
(KK 
	endpointsKK &
=>KK' )
{LL 
	endpointsMM 
.MM 
MapControllersMM (
(MM( )
)MM) *
;MM* +
}NN 
)NN 
;NN 
}OO 	
}PP 
}QQ ö
{C:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Utils\Description.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Utils% *
{ 
public 

class 
Description 
{ 
public 
string 
Text 
{ 
get  
;  !
set" %
;% &
}' (
public 
Description 
( 
int 
number %
)% &
{		 	
switch

 
(

 
number

 
)

 
{ 
case 
$num 
: 
Text 
= 
$str y
+z {
$str	 á
+
à â
$str ]
;] ^
break 
; 
case 
$num 
: 
Text 
= 
$str y
+z {
$str	 á
+
à â
$str k
;k l
break 
; 
case 
$num 
: 
Text 
= 
$str a
+b c
$str	 ‹
+
› ﬁ
$str	 ë
+
í ì
$str U
;U V
break 
; 
case 
$num 
: 
Text 
= 
$str ^
+_ `
$str	 ‹
+
› ﬁ
$str	 õ
+
ú ù
$str   U
;  U V
break!! 
;!! 
case"" 
$num"" 
:"" 
Text## 
=## 
$str## >
+##? @
$str	$$ ù
+
$$û ü
$str	%% ≤
;
%%≤ ≥
break&& 
;&& 
case'' 
$num'' 
:'' 
Text(( 
=(( 
$str(( >
+((? @
$str	)) ù
+
))û ü
$str	** ≤
;
**≤ ≥
break++ 
;++ 
default,, 
:,, 
break-- 
;-- 
}.. 
}// 	
}00 
}11 Ï
uC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Utils\Error.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Utils% *
{ 
public 

class 
Error 
{ 
public 
Error 
( 
string 
errorMessage (
)( )
{ 	
this 
. 
ErrorMessage 
= 
errorMessage  ,
;, -
} 	
public		 
string		 
ErrorMessage		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
}

 
} 