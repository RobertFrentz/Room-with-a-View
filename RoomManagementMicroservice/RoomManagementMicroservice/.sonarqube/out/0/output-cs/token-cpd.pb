∑"
ÖC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Controllers\RoomsController.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Controllers% 0
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
RoomsController  
:! "
ControllerBase# 1
{ 
private 
readonly 
IRoomsRepository )
_repository* 5
;5 6
public 
RoomsController 
( 
IRoomsRepository /

repository0 :
): ;
{ 	
_repository 
= 

repository $
;$ %
} 	
[ 	
Route	 
( 
$str 
) 
] 
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' ("
GetRoomsAvailableAsync) ?
(? @
[@ A
	FromQueryA J
]J K

RoomSearchL V

roomSearchW a
)a b
{ 	
IEnumerable 
< 
RoomResultSearch (
>( )
result* 0
=1 2
await3 8
_repository9 D
.D E"
GetRoomsAvailableAsyncE [
([ \

roomSearch\ f
)f g
;g h
if 
( 
result 
. 
Any 
( 
) 
) 
{   
return!! 
NotFound!! 
(!!  
new!!  #
Error!!$ )
(!!) *
$str!!* W
)!!W X
)!!X Y
;!!Y Z
}"" 
return## 
Ok## 
(## 
JsonConvert## !
.##! "
SerializeObject##" 1
(##1 2
new##2 5
{$$ 
roomsAvailable%% 
=%%  
result%%! '
}&& 
)&& 
)&& 
;&& 
}'' 	
[)) 	
HttpGet))	 
])) 
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (
GetRoomsAsync++) 6
(++6 7
)++7 8
{,, 	
IEnumerable-- 
<-- 
RoomResultSearch-- (
>--( )
result--* 0
=--1 2
await--3 8
_repository--9 D
.--D E
GetRoomsAsync--E R
(--R S
)--S T
;--T U
if.. 
(.. 
result.. 
==.. 
null.. 
).. 
{// 
return00 
NotFound00 
(00  
)00  !
;00! "
}11 
return22 
Ok22 
(22 
JsonConvert22 !
.22! "
SerializeObject22" 1
(221 2
new222 5
{33 
rooms44 
=44 
result44 
}55 
)55 
)55 
;55 
}66 	
[99 	
HttpGet99	 
(99 
$str99 
)99 
]99 
public;; 
async;; 
Task;; 
<;; 
IActionResult;; '
>;;' (
GetRoomByIdAsync;;) 9
(;;9 :
int;;: =
id;;> @
);;@ A
{<< 	
RoomDescription== 
result== "
===# $
await==% *
_repository==+ 6
.==6 7
GetRoomByIdAsync==7 G
(==G H
id==H J
)==J K
;==K L
if>> 
(>> 
result>> 
==>> 
null>> 
)>> 
{?? 
return@@ 
NotFound@@ 
(@@  
new@@  #
Error@@$ )
(@@) *
$str@@* Q
)@@Q R
)@@R S
;@@S T
}AA 
returnBB 
OkBB 
(BB 
JsonConvertBB !
.BB! "
SerializeObjectBB" 1
(BB1 2
newBB2 5
{CC 
roomDD 
=DD 
resultDD 
}EE 
)EE 
)EE 
;EE 
}FF 	
}GG 
}HH Æ(
zC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Data\DataContext.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Data% )
{ 
public 

class 
DataContext 
: 
	DbContext (
{ 
public		 
DataContext		 
(		 
DbContextOptions		 +
options		, 3
)		3 4
:		5 6
base		7 ;
(		; <
options		< C
)		C D
{

 	
} 	
public 
DbSet 
< 
Room 
> 
Rooms  
{! "
get# &
;& '
set( +
;+ ,
}- .
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
Room  $
>$ %
(% &
)& '
.' (
Property( 0
(0 1
$str1 5
)5 6
.6 7
ValueGeneratedOnAdd7 J
(J K
)K L
;L M
modelBuilder 
. 
Entity 
<  
Room  $
>$ %
(% &
)& '
. 
HasData  
(  !
new! $
Room% )
{ 
Id 
=  
$num! "
," #
RoomCategory (
=) *
$str+ 5
,5 6
CheckIn #
=$ %
null& *
,* +
CheckOut $
=% &
null' +
,+ ,
PersonsNumber )
=* +
$num, -
,- .
Price !
=" #
$num$ '
,' (
Description '
=' (
$str( 0
,0 1

Facilities &
=' (
$str( =
,> ?
State !
=" #
$str$ /
}   
,   
new!! 
Room!!  
{"" 
Id## 
=##  
$num##! "
,##" #
RoomCategory$$ (
=$$) *
$str$$+ 5
,$$5 6
CheckIn%% #
=%%$ %
new%%& )
DateTime%%* 2
(%%2 3
$num%%3 7
,%%7 8
$num%%8 9
,%%9 :
$num%%: <
)%%< =
,%%= >
CheckOut&& $
=&&% &
new&&' *
DateTime&&+ 3
(&&3 4
$num&&4 8
,&&8 9
$num&&: ;
,&&; <
$num&&= ?
)&&? @
,&&@ A
PersonsNumber'' )
=''* +
$num'', -
,''- .
Price(( !
=((" #
$num(($ '
,((' (
Description)) '
=))( )
$str))* 2
,))2 3

Facilities** &
=**' (
$str**) >
,**> ?
State++ !
=++" #
$str++$ ,
,++, -
},, 
,,, 
new-- 
Room--  
{.. 
Id// 
=// 
$num//  
,//  !
RoomCategory00 (
=00) *
$str00+ 5
,005 6
CheckIn11 #
=11$ %
new11& )
DateTime11* 2
(112 3
$num113 7
,117 8
$num119 :
,11: ;
$num11< >
)11> ?
,11? @
CheckOut22 $
=22% &
new22' *
DateTime22+ 3
(223 4
$num224 8
,228 9
$num22: ;
,22; <
$num22= ?
)22? @
,22@ A
PersonsNumber33 )
=33* +
$num33, -
,33- .
Price44 !
=44" #
$num44$ '
,44' (
Description55 '
=55( )
$str55* 2
,552 3

Facilities66 &
=66' (
$str66) >
,66> ?
State77 !
=77" #
$str77$ ,
}88 
,88 
new99 
Room99 
{:: 
Id;; 
=;; 
$num;; 
,;; 
RoomCategory<< 
=<< 
$str<< )
,<<) *
CheckIn== 
=== 
new== 
DateTime== &
(==& '
$num==' +
,==+ ,
$num==- .
,==. /
$num==0 1
)==1 2
,==2 3
CheckOut>> 
=>> 
new>> 
DateTime>> '
(>>' (
$num>>( ,
,>>, -
$num>>. /
,>>/ 0
$num>>1 2
)>>2 3
,>>3 4
PersonsNumber?? 
=?? 
$num??  !
,??! "
Price@@ 
=@@ 
$num@@ 
,@@ 
DescriptionAA 
=AA 
$strAA &
,AA& '

FacilitiesBB 
=BB 
$strBB 2
,BB2 3
StateCC 
=CC 
$strCC  
,CC  !
}DD 
)DD 
;DD 
}EE 	
}FF 
}GG Ï
C:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Data\IRoomsRepository.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Data% )
{ 
public 

	interface 
IRoomsRepository %
{ 
Task		 
<		 
IEnumerable		 
<		 
RoomResultSearch		 )
>		) *
>		* +"
GetRoomsAvailableAsync		, B
(		B C

RoomSearch		C M

roomSearch		N X
)		X Y
;		Y Z
Task 
< 
IEnumerable 
< 
RoomResultSearch )
>) *
>* +
GetRoomsAsync, 9
(9 :
): ;
;; <
Task 
< 
RoomDescription 
> 
GetRoomByIdAsync .
(. /
int/ 2
id3 5
)5 6
;6 7
} 
} ‚T
ñC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Data\Migrations\20210413111239_InitialCreate.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Data% )
.) *

Migrations* 4
{ 
public 

partial 
class 
InitialCreate &
:' (
	Migration) 2
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{		 	
migrationBuilder

 
.

 
CreateTable

 (
(

( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 :
,: ;
nullable< D
:D E
falseF K
)K L
. 

Annotation #
(# $
$str$ :
,: ;
true< @
)@ A
,A B
RoomCategory  
=! "
table# (
.( )
Column) /
</ 0
string0 6
>6 7
(7 8
type8 <
:< =
$str> D
,D E
nullableF N
:N O
trueP T
)T U
,U V
CheckIn 
= 
table #
.# $
Column$ *
<* +
DateTime+ 3
>3 4
(4 5
type5 9
:9 :
$str; A
,A B
nullableC K
:K L
trueM Q
)Q R
,R S
CheckOut 
= 
table $
.$ %
Column% +
<+ ,
DateTime, 4
>4 5
(5 6
type6 :
:: ;
$str< B
,B C
nullableD L
:L M
trueN R
)R S
,S T
PersonsNumber !
=" #
table$ )
.) *
Column* 0
<0 1
int1 4
>4 5
(5 6
type6 :
:: ;
$str< E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
Description 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= C
,C D
nullableE M
:M N
trueO S
)S T
,T U
Price 
= 
table !
.! "
Column" (
<( )
int) ,
>, -
(- .
type. 2
:2 3
$str4 =
,= >
nullable? G
:G H
falseI N
)N O
,O P

Facilities 
=  
table! &
.& '
Column' -
<- .
string. 4
>4 5
(5 6
type6 :
:: ;
$str< B
,B C
nullableD L
:L M
trueN R
)R S
,S T
State 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
trueI M
)M N
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% /
,/ 0
x1 2
=>3 5
x6 7
.7 8
Id8 :
): ;
;; <
} 
) 
; 
migrationBuilder 
. 

InsertData '
(' (
table 
: 
$str 
, 
columns   
:   
new   
[   
]   
{    
$str  ! %
,  % &
$str  ' 0
,  0 1
$str  2 <
,  < =
$str  > K
,  K L
$str  M Y
,  Y Z
$str  [ j
,  j k
$str  l s
,  s t
$str	  u É
,
  É Ñ
$str
  Ö å
}
  ç é
,
  é è
values!! 
:!! 
new!! 
object!! "
[!!" #
]!!# $
{!!% &
$num!!' (
,!!( )
null!!* .
,!!. /
null!!0 4
,!!4 5
$str!!6 >
,!!> ?
$str!!@ U
,!!U V
$num!!W X
,!!X Y
$num!!Z ]
,!!] ^
$str!!_ i
,!!i j
$str!!k v
}!!w x
)!!x y
;!!y z
migrationBuilder## 
.## 

InsertData## '
(##' (
table$$ 
:$$ 
$str$$ 
,$$ 
columns%% 
:%% 
new%% 
[%% 
]%% 
{%%  
$str%%! %
,%%% &
$str%%' 0
,%%0 1
$str%%2 <
,%%< =
$str%%> K
,%%K L
$str%%M Y
,%%Y Z
$str%%[ j
,%%j k
$str%%l s
,%%s t
$str	%%u É
,
%%É Ñ
$str
%%Ö å
}
%%ç é
,
%%é è
values&& 
:&& 
new&& 
object&& "
[&&" #
]&&# $
{&&% &
$num&&' (
,&&( )
new&&* -
DateTime&&. 6
(&&6 7
$num&&7 ;
,&&; <
$num&&= >
,&&> ?
$num&&@ B
,&&B C
$num&&D E
,&&E F
$num&&G H
,&&H I
$num&&J K
,&&K L
$num&&M N
,&&N O
DateTimeKind&&P \
.&&\ ]
Unspecified&&] h
)&&h i
,&&i j
new&&k n
DateTime&&o w
(&&w x
$num&&x |
,&&| }
$num&&~ 
,	&& Ä
$num
&&Å É
,
&&É Ñ
$num
&&Ö Ü
,
&&Ü á
$num
&&à â
,
&&â ä
$num
&&ã å
,
&&å ç
$num
&&é è
,
&&è ê
DateTimeKind
&&ë ù
.
&&ù û
Unspecified
&&û ©
)
&&© ™
,
&&™ ´
$str
&&¨ ¥
,
&&¥ µ
$str
&&∂ À
,
&&À Ã
$num
&&Õ Œ
,
&&Œ œ
$num
&&– ”
,
&&” ‘
$str
&&’ ﬂ
,
&&ﬂ ‡
$str
&&· È
}
&&Í Î
)
&&Î Ï
;
&&Ï Ì
migrationBuilder(( 
.(( 

InsertData(( '
(((' (
table)) 
:)) 
$str)) 
,)) 
columns** 
:** 
new** 
[** 
]** 
{**  
$str**! %
,**% &
$str**' 0
,**0 1
$str**2 <
,**< =
$str**> K
,**K L
$str**M Y
,**Y Z
$str**[ j
,**j k
$str**l s
,**s t
$str	**u É
,
**É Ñ
$str
**Ö å
}
**ç é
,
**é è
values++ 
:++ 
new++ 
object++ "
[++" #
]++# $
{++% &
$num++' (
,++( )
new++* -
DateTime++. 6
(++6 7
$num++7 ;
,++; <
$num++= >
,++> ?
$num++@ B
,++B C
$num++D E
,++E F
$num++G H
,++H I
$num++J K
,++K L
$num++M N
,++N O
DateTimeKind++P \
.++\ ]
Unspecified++] h
)++h i
,++i j
new++k n
DateTime++o w
(++w x
$num++x |
,++| }
$num++~ 
,	++ Ä
$num
++Å É
,
++É Ñ
$num
++Ö Ü
,
++Ü á
$num
++à â
,
++â ä
$num
++ã å
,
++å ç
$num
++é è
,
++è ê
DateTimeKind
++ë ù
.
++ù û
Unspecified
++û ©
)
++© ™
,
++™ ´
$str
++¨ ¥
,
++¥ µ
$str
++∂ À
,
++À Ã
$num
++Õ Œ
,
++Œ œ
$num
++– ”
,
++” ‘
$str
++’ ﬂ
,
++ﬂ ‡
$str
++· È
}
++Í Î
)
++Î Ï
;
++Ï Ì
migrationBuilder-- 
.-- 

InsertData-- '
(--' (
table.. 
:.. 
$str.. 
,.. 
columns// 
:// 
new// 
[// 
]// 
{//  
$str//! %
,//% &
$str//' 0
,//0 1
$str//2 <
,//< =
$str//> K
,//K L
$str//M Y
,//Y Z
$str//[ j
,//j k
$str//l s
,//s t
$str	//u É
,
//É Ñ
$str
//Ö å
}
//ç é
,
//é è
values00 
:00 
new00 
object00 "
[00" #
]00# $
{00% &
$num00' (
,00( )
new00* -
DateTime00. 6
(006 7
$num007 ;
,00; <
$num00= >
,00> ?
$num00@ A
,00A B
$num00C D
,00D E
$num00F G
,00G H
$num00I J
,00J K
$num00L M
,00M N
DateTimeKind00O [
.00[ \
Unspecified00\ g
)00g h
,00h i
new00j m
DateTime00n v
(00v w
$num00w {
,00{ |
$num00} ~
,00~ 
$num
00Ä Å
,
00Å Ç
$num
00É Ñ
,
00Ñ Ö
$num
00Ü á
,
00á à
$num
00â ä
,
00ä ã
$num
00å ç
,
00ç é
DateTimeKind
00è õ
.
00õ ú
Unspecified
00ú ß
)
00ß ®
,
00® ©
$str
00™ ≤
,
00≤ ≥
$str
00¥ …
,
00…  
$num
00À Ã
,
00Ã Õ
$num
00Œ —
,
00— “
$str
00” ›
,
00› ﬁ
$str
00ﬂ Á
}
00Ë È
)
00È Í
;
00Í Î
}11 	
	protected33 
override33 
void33 
Down33  $
(33$ %
MigrationBuilder33% 5
migrationBuilder336 F
)33F G
{44 	
migrationBuilder55 
.55 
	DropTable55 &
(55& '
name66 
:66 
$str66 
)66 
;66 
}77 	
}88 
}99 ‚.
~C:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Data\RoomsRepository.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Data% )
{		 
public

 

class

 
RoomsRepository

  
:

! "
IRoomsRepository

# 3
{ 
private 
readonly 
DataContext $
context% ,
;, -
public 
RoomsRepository 
( 
DataContext *
context+ 2
)2 3
{ 	
this 
. 
context 
= 
context "
;" #
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
RoomResultSearch& 6
>6 7
>7 8"
GetRoomsAvailableAsync9 O
(O P

RoomSearchP Z

roomSearch[ e
)e f
{ 	
var 
rooms 
= 
await 
context %
.% &
Rooms& +
.+ ,
Where, 1
(1 2
room2 6
=>7 9
room: >
.> ?
RoomCategory? K
==L N

roomSearchO Y
.Y Z
RoomCategoryZ f
&&g i
(j k
roomk o
.o p
CheckInp w
==x z
null{ 
|| 
( 
room 
. 
CheckIn 
<  

roomSearch! +
.+ ,
CheckIn, 3
&&4 6
room7 ;
.; <
CheckOut< D
<D E

roomSearchF P
.P Q
CheckInQ X
)X Y
|| 
( 
room 
. 
CheckIn 
>  

roomSearch! +
.+ ,
CheckOut, 4
&&5 7
room8 <
.< =
CheckOut= E
>E F

roomSearchG Q
.Q R
CheckOutR Z
)Z [
)[ \
&& 
room 
. 
PersonsNumber #
==# %

roomSearch% /
./ 0
PersonsNumber0 =
)= >
.> ?
Select? E
(E F
roomF J
=>J L
new 
RoomResultSearch "
(" #
)# $
{ 
RoomCategory 
= 
room #
.# $
RoomCategory$ 0
,0 1
Id 
= 
room 
. 
Id 
, 
Price 
= 
room 
. 
Price "
} 
) 
. 
ToListAsync 
( 
) 
; 
return 
rooms 
; 
}   	
public"" 
async"" 
Task"" 
<"" 
IEnumerable"" %
<""% &
RoomResultSearch""& 6
>""6 7
>""7 8
GetRoomsAsync""9 F
(""F G
)""G H
{## 	
var$$ 
rnd$$ 
=$$ 
($$ 
new$$ 
Random$$ !
($$! "
)$$" #
)$$# $
.$$$ %
Next$$% )
($$) *
$num$$* -
)$$- .
;$$. /
var%% 
rooms%% 
=%% 
await%% 
context%% %
.%%% &
Rooms%%& +
.%%+ ,
Select%%, 2
(%%2 3
room%%3 7
=>%%8 :
new&& 
RoomResultSearch&&  
(&&  !
)&&! "
{'' 
RoomCategory(( 
=(( 
room(( #
.((# $
RoomCategory(($ 0
,((0 1
Id)) 
=)) 
room)) 
.)) 
Id)) 
,)) 
Price** 
=** 
room** 
.** 
Price** "
}++ 
)++ 
.++ 
OrderBy++ 
(++ 
room++ 
=>++ 
room++ #
.++# $
Price++$ )
*++* +
rnd++, /
)++/ 0
.++0 1
Take++1 5
(++5 6
$num++6 8
)++8 9
.++9 :
ToListAsync++: E
(++E F
)++F G
;++G H
return,, 
rooms,, 
;,, 
}-- 	
public// 
async// 
Task// 
<// 
RoomDescription// )
>//) *
GetRoomByIdAsync//+ ;
(//; <
int//< ?
id//@ B
)//B C
{00 	
var11 
room11 
=11 
await11 
context11 $
.11$ %
Rooms11% *
.11* +
	FindAsync11+ 4
(114 5
id115 7
)117 8
;118 9
if22 
(22 
room22 
==22 
null22 
)22 
{33 
return44 
null44 
;44 
}55 
RoomDescription66 
roomDescription66 +
=66, -
new66. 1
RoomDescription662 A
(66A B
)66B C
{77 
RoomCategory88 
=88 
room88 #
.88# $
RoomCategory88$ 0
,880 1
Description99 
=99 
room99 "
.99" #
Description99# .
,99. /

Facilities:: 
=:: 
room:: !
.::! "

Facilities::" ,
,::, -
PersonsNumber;; 
=;; 
room;;  $
.;;$ %
PersonsNumber;;% 2
,;;2 3
Price<< 
=<< 
room<< 
.<< 
Price<< "
}== 
;== 
return>> 
roomDescription>> "
;>>" #
}?? 	
}@@ 
}AA Î
~C:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\DTOs\RoomDescription.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
DTOs% )
{ 
public 

class 
RoomDescription  
{ 
public 
string 
RoomCategory "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
Price 
{ 
get 
; 
set  #
;# $
}% &
public 
string 

Facilities  
{! "
get# &
;& '
set( +
;+ ,
}- .
public

 
int

 
PersonsNumber

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
} 
} •
C:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\DTOs\RoomResultSearch.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
DTOs% )
{ 
public 

class 
RoomResultSearch !
{ 
public 
string 
RoomCategory "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
int 
Price 
{ 
get 
; 
set  #
;# $
}% &
}		 
}

 Á
yC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\DTOs\RoomSearch.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
DTOs% )
{ 
public 

class 

RoomSearch 
{ 
public 
string 
RoomCategory "
{# $
get% (
;( )
set* -
;- .
}/ 0
public		 
DateTime		 
?		 
CheckIn		  
{		! "
get		# &
;		& '
set		( +
;		+ ,
}		- .
public

 
DateTime

 
?

 
CheckOut

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
public 
int 
PersonsNumber  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} ‚
wC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Entities\Room.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Entities% -
{ 
public 

class 
Room 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public		 
string		 
RoomCategory		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
public 
DateTime 
? 
CheckIn  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DateTime 
? 
CheckOut !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
PersonsNumber  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
Price 
{ 
get 
; 
set  #
;# $
}% &
public 
string 

Facilities  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
State 
{ 
get !
;! "
set# &
;& '
}( )
} 
} Ÿ

qC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Program.cs
	namespace 	&
RoomManagementMicroservice
 $
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{		 	
CreateHostBuilder

 
(

 
args

 "
)

" #
.

# $
Build

$ )
(

) *
)

* +
.

+ ,
Run

, /
(

/ 0
)

0 1
;

1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} ∆"
qC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Startup.cs
	namespace

 	&
RoomManagementMicroservice


 $
{ 
public 

class 
Startup 
{ 
readonly 
string $
MyAllowedSpecificOrigins 0
=1 2
$str3 J
;J K
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddControllers #
(# $
)$ %
;% &
services 
. 
AddDbContext !
<! "
DataContext" -
>- .
(. /
options/ 6
=>7 9
{ 
options 
. 
	UseSqlite !
(! "
Configuration" /
./ 0
GetConnectionString0 C
(C D
$strD W
)W X
)X Y
;Y Z
} 
) 
; 
services   
.   
AddCors   
(   
options   $
=>  % '
{!! 
options"" 
."" 
	AddPolicy"" !
(""! "$
MyAllowedSpecificOrigins""" :
,"": ;
builder""< C
=>""D F
{## 
builder$$ 
.$$ 
AllowAnyHeader$$ *
($$* +
)$$+ ,
.%% 
AllowAnyMethod%% #
(%%# $
)%%$ %
.&& 
AllowAnyOrigin&& #
(&&# $
)&&$ %
;&&% &
}'' 
)'' 
;'' 
}(( 
)(( 
;(( 
services** 
.** 
AddTransient** !
<**! "
IRoomsRepository**" 2
,**2 3
RoomsRepository**4 C
>**C D
(**D E
)**E F
;**F G
services++ 
.++ 
AddSwaggerGen++ "
(++" #
c++# $
=>++% '
{,, 
c-- 
.-- 

SwaggerDoc-- 
(-- 
$str-- !
,--! "
new--# &
OpenApiInfo--' 2
{--3 4
Title--5 :
=--; <
$str--= Y
,--Y Z
Version--[ b
=--c d
$str--e i
}--j k
)--k l
;--l m
}.. 
).. 
;.. 
}// 	
public22 
void22 
	Configure22 
(22 
IApplicationBuilder22 1
app222 5
,225 6
IWebHostEnvironment227 J
env22K N
)22N O
{33 	
if44 
(44 
env44 
.44 
IsDevelopment44 !
(44! "
)44" #
)44# $
{55 
app66 
.66 %
UseDeveloperExceptionPage66 -
(66- .
)66. /
;66/ 0
app77 
.77 

UseSwagger77 
(77 
)77  
;77  !
app88 
.88 
UseSwaggerUI88  
(88  !
c88! "
=>88# %
c88& '
.88' (
SwaggerEndpoint88( 7
(887 8
$str888 R
,88R S
$str88T s
)88s t
)88t u
;88u v
}99 
app;; 
.;; 
UseCors;; 
(;; $
MyAllowedSpecificOrigins;; 0
);;0 1
;;;1 2
app== 
.== 

UseRouting== 
(== 
)== 
;== 
app?? 
.?? 
UseAuthorization??  
(??  !
)??! "
;??" #
appAA 
.AA 
UseEndpointsAA 
(AA 
	endpointsAA &
=>AA' )
{BB 
	endpointsCC 
.CC 
MapControllersCC (
(CC( )
)CC) *
;CC* +
}DD 
)DD 
;DD 
}EE 	
}FF 
}GG Ï
uC:\Users\alexg\Documents\GitHub\Room-with-a-View\RoomManagementMicroservice\RoomManagementMicroservice\Utils\Error.cs
	namespace 	&
RoomManagementMicroservice
 $
.$ %
Utils% *
{ 
public 

class 
Error 
{ 
public 
Error 
( 
string 
errorMessage (
)( )
{ 	
this 
. 
ErrorMessage 
= 
errorMessage  ,
;, -
} 	
public		 
string		 
ErrorMessage		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
}

 
} 